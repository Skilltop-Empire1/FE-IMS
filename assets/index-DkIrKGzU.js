import{r as l,j as e}from"./react-BjsiM_7A.js";import{c as at}from"./react-dom-Cx4nwS_H.js";import{N as J,L as Be,c as rt,R as nt}from"./react-router-dom-CuBT6NJO.js";import{u as ze,a as ot,P as lt}from"./react-redux-HjciQFAW.js";import{c as it,a as X,f as Z,b as ct}from"./@reduxjs-Dqy1YwMo.js";import{e as Q,O as dt,f as ut}from"./react-router-C7x9AKob.js";import{E as pe,a as ge,U as Pe,C as mt,L as ht,b as xt,S as pt,B as gt,c as jt,H as ft,d as bt,T as yt,e as vt,F as Nt,f as St,g as _t,h as wt,P as Ct,i as Qe,j as Ve,k as Ee}from"./lucide-react-BXxtNmGL.js";import{M as Ge}from"./react-modal-Cqu_8bTW.js";import{$ as Pt}from"./react-loader-spinner-DiRH8xRB.js";import{c as Le}from"./clsx-B-dksMZM.js";import{z as U}from"./zod-DXqQCM1T.js";import{h as kt}from"./moment-C5S46NFB.js";import"./exenv-BTN8Bl8p.js";import"./scheduler-CzFDRTuY.js";import"./@remix-run-83HfZg3T.js";import"./use-sync-external-store-DlQWUlfI.js";import"./redux-DITMfSWq.js";import"./immer-fBqQtvEc.js";import"./redux-thunk-ClJT1hhx.js";import"./reselect-C27TLnWV.js";import"./prop-types-BKNjMPK8.js";import"./warning-BwjNEfsz.js";import"./react-lifecycles-compat-DsJokh4A.js";import"./styled-components-DVhozVTR.js";import"./@emotion-sScrWPmR.js";import"./stylis-DinRj2j6.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function a(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=a(r);fetch(r.href,i)}})();const He=it({name:"auth",initialState:{token:null,user:null},reducers:{setCredentials:(t,s)=>{t.token=s.payload.token,localStorage.setItem("token",s.payload.token)},logout:t=>{t.token=null,t.user=null,localStorage.removeItem("token")},setUser:(t,s)=>{t.user=s.payload}}}),{setCredentials:ke,logout:Je,setUser:Un}=He.actions,It=He.reducer,ie=X({reducerPath:"passwordReset",baseQuery:Z({baseUrl:"https://be-ims.onrender.com",prepareHeaders:(t,{getState:s})=>{const a=s().auth.token;return a&&t.set("Authorization",`Bearer ${a}`),t}}),endpoints:t=>({signup:t.mutation({query:s=>({url:"/api/IMS/user/signup",method:"POST",body:s})}),login:t.mutation({query:s=>({url:"/api/IMS/user/login",method:"POST",body:s}),transformResponse:s=>{if(s&&s.token)return s.token;throw new Error("Token missing in response")},async onQueryStarted(s,{dispatch:a,queryFulfilled:o}){try{const{data:r}=await o;a(ke({token:r}))}catch(r){console.error("Login failed:",r)}}}),fetchUser:t.query({query:()=>"user"}),logout:t.mutation({query:()=>({url:"/api/IMS/user/logout",method:"POST"}),async onQueryStarted(s,{dispatch:a,queryFulfilled:o}){try{await o,a(Je())}catch(r){console.error("Logout failed:",r)}}})})}),{useSignupMutation:qt,useLoginMutation:$t,useFetchUserQuery:Fn,useLogoutMutation:On}=ie,Et="_body_1q8r5_13",Lt="_left_1q8r5_27",Mt="_right_1q8r5_41",At="_button_1q8r5_115",Dt="_toSignUp_1q8r5_145",Rt="_input_1q8r5_177",Tt="_login_1q8r5_185",Ut="_input2_1q8r5_233",Ft="_button2_1q8r5_255",Ot="_submit_1q8r5_297",Bt="_forgot_1q8r5_309",zt="_sum_1q8r5_329",Qt="_icon_1q8r5_359",F={body:Et,left:Lt,right:Mt,button:At,toSignUp:Dt,input:Rt,login:Tt,input2:Ut,button2:Ft,submit:Ot,forgot:Bt,sum:zt,icon:Qt},Vt=()=>{const[t,s]=l.useState(""),[a,o]=l.useState(""),[r,i]=l.useState(!1),n=ze(),[c,{isLoading:u}]=$t(),h=Q(),d=async b=>{b.preventDefault();try{const v=await c({email:t,password:a}).unwrap();n(ke({token:v})),h("/app")}catch(v){console.error("Failed to login:",v),alert("Login failed! Please check your credentials and try again.")}},p=()=>{i(!r)};return e.jsxs("div",{className:F.body,children:[e.jsxs("div",{className:F.left,children:[e.jsx("h2",{children:"Welcome back"}),e.jsx("div",{className:F.login,children:e.jsxs("form",{onSubmit:d,className:F.form,children:[e.jsxs("div",{className:F.input,children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("br",{}),e.jsx("input",{type:"email",name:"email",placeholder:"Enter email",value:t,onChange:b=>s(b.target.value),required:!0})]}),e.jsxs("div",{className:F.input2,children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("br",{}),e.jsxs("div",{className:`flex items-center justify-between gap-3 ${F.sum}`,children:[e.jsx("input",{type:r?"text":"password",name:"password",placeholder:"Enter password",onChange:b=>o(b.target.value),required:!0}),r?e.jsx(pe,{onClick:p}):e.jsx(ge,{onClick:p})]})]}),e.jsx("div",{className:F.submit,children:e.jsx("button",{type:"submit",className:F.button2,disabled:u,children:u?"Logging in...":"LOGIN"})}),e.jsx("div",{className:"flex justify-center mt-4",children:e.jsx("a",{href:"passwordReset",className:F.forgot,children:"Forgot your password?"})})]})})]}),e.jsxs("div",{className:F.right,children:[e.jsx("h2",{children:"Don't have an account?"}),e.jsx("h3",{children:"Start your journey in one click"}),e.jsx("a",{href:"signup",className:F.toSignUp,children:e.jsx("button",{className:F.button,children:"Sign Up"})})]})]})},Gt="_body_xhjbt_13",Ht="_left_xhjbt_27",Jt="_right_xhjbt_41",Wt="_button_xhjbt_115",Kt="_toSignUp_xhjbt_143",Yt="_input_xhjbt_175",Xt="_login_xhjbt_183",Zt="_input2_xhjbt_231",es="_name_xhjbt_253",ts="_button2_xhjbt_263",ss="_submit_xhjbt_305",as="_sum_xhjbt_317",rs="_icon_xhjbt_347",A={body:Gt,left:Ht,right:Jt,button:Wt,toSignUp:Kt,input:Yt,login:Xt,input2:Zt,name:es,button2:ts,submit:ss,sum:as,icon:rs};function ns(){const t=Q(),[s,{isLoading:a,error:o}]=qt(),[r,i]=l.useState(!1),n=async u=>{u.preventDefault();const h=new FormData(u.target),d={userName:h.get("username"),email:h.get("email"),password:h.get("password")};try{await s(d).unwrap(),t("/")}catch(p){console.error("Signup failed:",p)}},c=()=>{i(!r)};return e.jsxs("div",{className:A.body,children:[e.jsxs("div",{className:A.left,children:[e.jsx("h2",{children:"Create Account"}),e.jsx("div",{className:A.login,children:e.jsxs("form",{onSubmit:n,className:A.form,children:[e.jsx("div",{className:A.name,children:e.jsxs("div",{className:A.input,children:[e.jsx("label",{htmlFor:"username",children:"Username"})," ",e.jsx("br",{}),e.jsx("input",{type:"text",name:"username",placeholder:"Enter Username",required:!0})]})}),e.jsxs("div",{className:A.input,children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("br",{}),e.jsx("input",{type:"email",name:"email",placeholder:"Enter email",required:!0})]}),e.jsxs("div",{className:A.input2,children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("br",{}),e.jsxs("div",{className:`flex items-center justify-between gap-3 ${A.sum}`,children:[e.jsx("input",{type:r?"text":"password",name:"password",placeholder:"Enter password",required:!0}),r?e.jsx(pe,{onClick:c,className:A.icon}):e.jsx(ge,{onClick:c,className:A.icon})]})]}),o&&e.jsx("p",{className:A.error,children:o.message})," ",e.jsx("div",{className:A.submit,children:e.jsx("button",{type:"submit",className:A.button2,disabled:a,children:a?"Signing Up...":"SIGN UP"})})]})})]}),e.jsxs("div",{className:A.right,children:[e.jsx("h2",{children:"Have an account?"}),e.jsx("h3",{children:"Continue your journey in one click"}),e.jsx("a",{href:"/",className:A.toSignUp,children:e.jsx("button",{className:A.button,children:"Sign In"})})]})]})}const os="/FE-IMS/assets/ims-logo-BmcyE8wO.png",ls="_navContainer_zgnoo_1",is="_leftNavs_zgnoo_43",cs="_searchContainer_zgnoo_53",ds="_rightNavs_zgnoo_77",re={navContainer:ls,leftNavs:is,searchContainer:cs,rightNavs:ds},us="_container_1hpke_1",ms="_active_1hpke_67",te={container:us,active:ms},hs="_modalOverlay_iq2mc_1",xs="_modalContent_iq2mc_25",ps="_closeButton_iq2mc_39",ve={modalOverlay:hs,modalContent:xs,closeButton:ps},ne=({isOpen:t,onClose:s,content:a})=>t?e.jsx("div",{className:ve.modalOverlay,onClick:s,children:e.jsxs("div",{className:ve.modalContent,onClick:o=>o.stopPropagation(),children:[e.jsx("button",{className:ve.closeButton,onClick:s,children:"x"}),a]})}):null,gs="_container_2q6zy_1",js="_fileInput_2q6zy_13",fs="_preview_2q6zy_21",bs="_previewImage_2q6zy_35",ys="_submitButton_2q6zy_49",se={container:gs,fileInput:js,preview:fs,previewImage:bs,submitButton:ys},Me=({onSelectImage:t,onSubmit:s})=>{const[a,o]=l.useState(null),[r,i]=l.useState(null),n=u=>{const h=u.target.files[0];if(h){const d=new FileReader;d.onloadend=()=>{i(d.result),o(h)},d.readAsDataURL(h),t&&t(h)}},c=()=>{a&&s&&s(a)};return e.jsxs("div",{className:se.container,children:[e.jsx("input",{type:"file",accept:"image/*",onChange:n,className:se.fileInput}),r&&e.jsx("div",{className:se.preview,children:e.jsx("img",{src:r,alt:"Image Preview",className:se.previewImage})}),e.jsx("button",{className:se.submitButton,onClick:c,children:"OK"})]})};function vs(){const[t,s]=l.useState(null),[a,o]=l.useState(null),r=n=>()=>{s(n),o(n)},i=()=>{s(null),o(null)};return e.jsxs("div",{className:te.container,children:[e.jsxs("ul",{children:[e.jsxs("li",{onClick:r("add-profile-picture"),className:t==="add-profile-picture"?te.active:"",children:[e.jsx(Pe,{size:16,className:"icon"}),"Add Profile Picture"]}),e.jsxs("li",{onClick:r("update-profile-picture"),className:t==="update-profile-picture"?te.active:"",children:[e.jsx(mt,{size:16,className:"icon"}),"Update Profile Picture"]}),e.jsxs("li",{onClick:r("change-password"),className:t==="change-password"?te.active:"",children:[e.jsx(ht,{size:16,className:"icon"}),"Change Password"]}),e.jsxs("li",{onClick:r("logout"),className:t==="logout"?te.active:"",children:[e.jsx(xt,{size:16,className:"icon"}),"Logout"]})]}),e.jsx(ne,{isOpen:t==="add-profile-picture",onClose:i,content:e.jsx(Me,{})}),e.jsx(ne,{isOpen:t==="update-profile-picture",onClose:i,content:e.jsx(Me,{})}),e.jsx(ne,{isOpen:t==="change-password",onClose:i,content:e.jsx("div",{children:"Change your account password."})}),e.jsx(ne,{isOpen:t==="logout",onClose:i,content:e.jsx("div",{children:"Are you sure you want to logout?"})})]})}const oe={color:"#8D46E2"};function Ns(){const[t,s]=l.useState(!1),a=()=>s(r=>!r),o=Q();return e.jsxs("nav",{className:re.navContainer,children:[e.jsxs("ul",{className:re.leftNavs,children:[e.jsx("li",{onClick:()=>o("/app"),children:e.jsx("img",{src:os,alt:"Product Logo"})}),e.jsx("li",{children:e.jsxs("div",{className:re.searchContainer,children:[e.jsx("input",{type:"text",placeholder:"Search"}),e.jsx(pt,{size:16,style:oe})]})})]}),e.jsxs("ul",{className:re.rightNavs,children:[e.jsx("li",{children:e.jsx(gt,{size:24,style:oe})}),e.jsx("li",{onClick:()=>o("/app/settings"),children:e.jsx(jt,{size:24,style:oe})}),e.jsx("li",{onClick:a,children:e.jsx(Pe,{size:24,style:oe})})]}),t&&e.jsx(vs,{})]})}const Ss="_buttonName_1o9fr_1",We={buttonName:Ss},fe=({buttonName:t,className:s,onClick:a})=>e.jsx("div",{className:`${We.buttonName} ${s}`,children:e.jsx("button",{onClick:a,children:t})}),_s="_navContainer_an8dr_1",ws="_iconStyle_an8dr_47",Cs="_activeLink_an8dr_59",Ps="_logout_an8dr_83",ks="_logoutButton_an8dr_97",Is="_modal_an8dr_111",qs="_overlay_an8dr_145",$s="_modalButtons_an8dr_165",q={navContainer:_s,iconStyle:ws,activeLink:Cs,logout:Ps,logoutButton:ks,modal:Is,overlay:qs,modalButtons:$s};Ge.setAppElement("#root");function Es(){const[t,s]=l.useState(!1),a=ze(),o=()=>s(!0),r=()=>s(!1),i=async()=>{a(Je())};return e.jsxs("nav",{className:q.navContainer,children:[e.jsxs("ul",{children:[e.jsx("li",{children:e.jsxs(J,{to:"/app",end:!0,className:({isActive:n})=>n?q.activeLink:void 0,children:[e.jsx(ft,{className:q.iconStyle}),e.jsx("span",{children:"Home"})]})}),e.jsx("li",{children:e.jsxs(J,{to:"/app/products",className:({isActive:n})=>n?q.activeLink:void 0,children:[e.jsx(bt,{className:q.iconStyle}),e.jsx("span",{children:"Products"})]})}),e.jsx("li",{children:e.jsxs(J,{to:"/app/categories",className:({isActive:n})=>n?q.activeLink:void 0,children:[e.jsx(yt,{className:q.iconStyle}),e.jsx("span",{children:"Categories"})]})}),e.jsx("li",{children:e.jsxs(J,{to:"/app/stores",className:({isActive:n})=>n?q.activeLink:void 0,children:[e.jsx(vt,{className:q.iconStyle}),e.jsx("span",{children:"Stores"})]})}),e.jsx("li",{children:e.jsxs(J,{to:"/app/salesRecords",className:({isActive:n})=>n?q.activeLink:void 0,children:[e.jsx(Nt,{className:q.iconStyle}),e.jsx("span",{children:"Sales Record"})]})}),e.jsx("li",{children:e.jsxs(J,{to:"/app/accounts",className:({isActive:n})=>n?q.activeLink:void 0,children:[e.jsx(Pe,{className:q.iconStyle}),e.jsx("span",{children:"Accounts"})]})}),e.jsx("li",{children:e.jsxs(J,{to:"/app/settings",className:({isActive:n})=>n?q.activeLink:void 0,children:[e.jsx(St,{className:q.iconStyle}),e.jsx("span",{children:"Settings"})]})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsxs(J,{to:"/app/staff",className:({isActive:n})=>n?q.activeLink:void 0,children:[e.jsx(_t,{className:q.iconStyle}),e.jsx("span",{children:"Add Staff"})]})}),e.jsx("li",{children:e.jsxs(J,{to:"/app/addProduct",className:({isActive:n})=>n?q.activeLink:void 0,children:[e.jsx(wt,{className:q.iconStyle}),e.jsx("span",{children:"Add Product"})]})}),e.jsx("li",{className:q.logout,children:e.jsx(fe,{onClick:o,className:q.logoutButton,buttonName:"Logout"})})]}),e.jsxs(Ge,{isOpen:t,onRequestClose:r,contentLabel:"Confirm Logout",className:q.modal,overlayClassName:q.overlay,children:[e.jsx("h2",{children:"Are you sure you want to logout?"}),e.jsxs("div",{className:q.modalButtons,children:[e.jsx("button",{onClick:i,children:"Logout"}),e.jsx("button",{onClick:r,children:"Cancel"})]})]})]})}const Ls="_mainContainer_1n0bs_1",Ms={mainContainer:Ls};function As({children:t}){return e.jsx("div",{className:Ms.mainContainer,children:t})}const Ds="_appContainer_bifez_1",Rs="_main_bifez_11",Ae={appContainer:Ds,main:Rs};function Ts(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:Ae.appContainer,children:[e.jsx(Ns,{}),e.jsxs("div",{className:Ae.main,children:[e.jsx("div",{children:e.jsx(Es,{})}),e.jsx(As,{children:e.jsx(dt,{})})]})]})})}function Ne({summaryName:t,summaryValue:s,percentageIncrease:a,container:o,valueStyle:r}){return e.jsxs("div",{className:o,children:[e.jsx("strong",{children:t}),e.jsxs("div",{className:r,children:[e.jsx("p",{children:s}),e.jsx("span",{children:a})]})]})}const Us="_container_1p9x2_1",Fs="_header_1p9x2_9",Os="_selectOptionsContainer_1p9x2_23",Bs="_selectOptions_1p9x2_23",zs="_selectBox_1p9x2_115",Qs="_accountSummary_1p9x2_155",Vs="_summaryContainer_1p9x2_167",Gs="_valueStyle_1p9x2_221",Hs="_breakdown_1p9x2_251",Js="_btn_1p9x2_291",D={container:Us,header:Fs,selectOptionsContainer:Os,selectOptions:Bs,selectBox:zs,accountSummary:Qs,summaryContainer:Vs,valueStyle:Gs,breakdown:Hs,btn:Js},De=["January","February","March","April","May","June","July","August","September","October","November","December"],ce=X({reducerPath:"productApi",baseQuery:Z({baseUrl:"https://be-ims.onrender.com"}),endpoints:t=>({getProducts:t.query({query:()=>"/api/IMS/product"}),createProduct:t.mutation({query:s=>({url:"/api/IMS/product",method:"POST",body:s})}),updateProduct:t.mutation({query:({prodId:s,updatedProduct:a})=>({url:`/api/IMS/product/${s}`,method:"PUT",body:a})}),deleteProduct:t.mutation({query:s=>({url:`/api/IMS/product/${s}`,method:"DELETE"})})})}),{useGetProductsQuery:Ie,useCreateProductMutation:Ws,useUpdateProductMutation:Ks,useDeleteProductMutation:Ys}=ce;function Xs(){const[t,s]=l.useState(""),[a,o]=l.useState(""),[r,i]=l.useState(0),[n,c]=l.useState(5),{data:u=[],error:h,isLoading:d}=Ie(),p=(u==null?void 0:u.map(x=>x.name))||[],b=new Date().getFullYear(),v=x=>{s(x.target.value)},N=x=>{const g=x.target.value;o(g);const j=u.find(m=>m.name===g);if(j){const{price:m,quantity:S}=j;i(m*S)}else i(0)},P=r-n;return d?e.jsx("div",{children:"Loading..."}):h?e.jsx("div",{children:"Error fetching product data"}):e.jsxs("div",{className:D.container,children:[e.jsx("div",{className:D.header,children:e.jsx("h3",{children:"Accounts"})}),e.jsxs("div",{className:D.selectOptionsContainer,children:[e.jsxs("div",{className:D.selectOptions,children:[e.jsx("div",{className:D.selectBox,children:e.jsxs("select",{onChange:v,value:t||"",children:[e.jsx("option",{value:"",children:"View Range"}),De.map(x=>e.jsx("option",{value:x,children:x},x))]})}),t?e.jsxs("p",{children:[De[0]," ",e.jsx("span",{children:b})," to ",t," ",e.jsx("span",{children:b})]}):e.jsx("p",{children:"Select Duration"})]}),e.jsxs("div",{className:D.selectOptions,children:[e.jsx("div",{className:D.selectBox,children:e.jsxs("select",{onChange:N,value:a||"",children:[e.jsx("option",{value:"",children:"Select Product"}),p.map((x,g)=>e.jsx("option",{value:x,children:x},g))]})}),a?e.jsx("p",{children:a}):e.jsx("p",{children:"Select a product to view stock"})]})]}),e.jsxs("div",{className:D.accountSummary,children:[e.jsx(Ne,{percentageIncrease:"2%",summaryName:"Total Sales",summaryValue:`$${n.toFixed(2)}`,container:D.summaryContainer,valueStyle:D.valueStyle}),e.jsx(Ne,{percentageIncrease:"1.4%",summaryName:"Stock Value",summaryValue:`$${r.toFixed(2)}`,container:D.summaryContainer,valueStyle:D.valueStyle}),e.jsx(Ne,{percentageIncrease:"1.6%",summaryName:"Sum Total",summaryValue:`$${P.toFixed(2)}`,container:D.summaryContainer,valueStyle:D.valueStyle})]}),e.jsx("div",{className:D.breakdown,children:e.jsx("p",{children:"Revenue Breakdown"})}),e.jsx("div",{className:D.btn,children:e.jsx(fe,{onClick:()=>console.log("Export clicked"),buttonName:"Export"})})]})}const Zs="_cardContainer_z7pj0_1",ea="_qty_z7pj0_45",ta="_cardName_z7pj0_61",Se={cardContainer:Zs,qty:ea,cardName:ta};function _e({cardName:t,quantity:s,page:a}){const o=Q();return e.jsxs("div",{onClick:()=>o(`/app/${a}`),className:Se.cardContainer,children:[e.jsx("div",{children:e.jsx("h4",{children:s})}),e.jsx("div",{children:e.jsx("p",{className:Se.qty,children:"Qty"})}),e.jsx("div",{children:e.jsx("p",{className:Se.cardName,children:t})})]})}const sa="_header_19ic0_1",aa="_cardsContainer_19ic0_21",ra="_saleAndCatgoryContainer_19ic0_51",na="_stockStatusAndStoreList_19ic0_65",oa="_btn_19ic0_77",K={header:sa,cardsContainer:aa,saleAndCatgoryContainer:ra,stockStatusAndStoreList:na,btn:oa},la="_salesContainer_m9ume_1",ia="_header_m9ume_33",Re={salesContainer:la,header:ia};function ca({posPayments:t,transferPayments:s,cashPayments:a,totalPayments:o}){const r=Q();return e.jsxs("div",{className:Re.salesContainer,children:[e.jsx("div",{onClick:()=>r("/app/salesRecords"),children:e.jsx("p",{className:Re.header,children:"Sales"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("span",{children:"POS"}),t,e.jsx("span",{})]}),e.jsxs("li",{children:[e.jsx("span",{children:"Transfers"}),s,e.jsx("span",{})]}),e.jsxs("li",{children:[e.jsx("span",{children:"Cash"}),a,e.jsx("span",{})]}),e.jsxs("li",{children:[e.jsx("span",{children:"Total"}),o,e.jsx("span",{})]})]})]})}const da="_container_zrehl_1",ua="_header_zrehl_23",ma="_cardContainer_zrehl_63",ha="_topItemCategoryCard_zrehl_79",le={container:da,header:ua,cardContainer:ma,topItemCategoryCard:ha};function xa({topCategoriesItems:t}){const s=Q();return e.jsxs("div",{onClick:()=>s("/app/products"),className:le.container,children:[e.jsxs("div",{className:le.header,children:[e.jsx("p",{children:"Top Item Categories"}),e.jsx(Be,{to:"/app/salesRecords",children:e.jsx("p",{children:"View All"})})]}),e.jsx("div",{className:le.cardContainer,children:t.map((a,o)=>e.jsx("div",{className:le.topItemCategoryCard,children:e.jsx("p",{children:a.quantitySold})},o))})]})}const pa="_container_1pnw2_1",ga="_contentStatus_1pnw2_45",Te={container:pa,contentStatus:ga};function ja({lowStockItems:t,lowStockCategories:s}){return e.jsxs("div",{className:Te.container,children:[e.jsx("div",{children:e.jsx("h3",{children:"Stock Alert Status"})}),e.jsxs("div",{className:Te.contentStatus,children:[e.jsxs("div",{children:[e.jsx("p",{children:"Low Stock Items"}),e.jsx("span",{children:t})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Item Categories"}),e.jsx("span",{children:s})]})]})]})}const fa="_container_1jqvo_1",ba="_header_1jqvo_27",ya="_headlessTable_1jqvo_69",we={container:fa,header:ba,headlessTable:ya};function va({data:t}){const s=Array.isArray(t)?t.slice(0,4):[];return e.jsxs("div",{className:we.container,children:[e.jsxs("div",{className:we.header,children:[e.jsx("h3",{children:"Store List"}),e.jsx(Be,{to:"/app/stores",children:e.jsx("p",{children:"View All"})})]}),e.jsx("table",{children:e.jsx("tbody",{className:we.headlessTable,children:s.length>0?s.map(a=>e.jsxs("tr",{children:[e.jsx("td",{children:a.storeName||"N/A"}),e.jsx("td",{children:a.noOfStaff?`${a.noOfStaff} employees`:"N/A"}),e.jsx("td",{children:a.totalItems||"N/A"}),e.jsx("td",{children:a.totalStockValue||"N/A"})]},a.storeId||a.storeName)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",children:"No stores available"})})})})]})}const de=X({reducerPath:"storesApi",baseQuery:Z({baseUrl:"https://be-ims.onrender.com",prepareHeaders:t=>{const s=localStorage.getItem("token");return s&&t.set("Authorization",`Bearer ${s}`),t}}),endpoints:t=>({getStores:t.query({query:()=>"/api/IMS/store/all"}),createStore:t.mutation({query:s=>({url:"/api/IMS/store/create",method:"POST",body:s})}),getStoresOverview:t.query({query:()=>"/api/IMS/store/overview"}),getLocations:t.query({query:()=>"/api/IMS/store/filter"})})}),{useGetStoresQuery:ee,useCreateStoreMutation:Na,useGetLocationsQuery:be,useGetStoresOverviewQuery:Sa}=de;function _a(){const{data:t=[]}=ee(),{data:s=[],error:a,isLoading:o}=Ie(),{data:r=[]}=Sa();console.log("storeData:",t),console.log("storeOverview:",r.data);const i=[{quantitySold:3},{quantitySold:3},{quantitySold:3},{quantitySold:3},{quantitySold:3}];if(o)return e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",right:0,left:0,top:0,bottom:0},children:e.jsx(Pt,{color:"#7D2CE0"})});if(a)return e.jsx("div",{children:"Error loading data"});const n=(t==null?void 0:t.length)||0,u=s.slice().sort((p,b)=>new Date(b.createdAt)-new Date(p.createdAt)).reduce((p,b)=>p+(b.quantity||0),0),h=s==null?void 0:s.filter(p=>p.alertStatus==="low").reduce((p,b)=>p+(b.quantity||0),0),d=s.filter(p=>p.alertStatus==="low").length;return e.jsxs("div",{children:[e.jsx("div",{className:K.header,children:e.jsx("h3",{children:"Recent Activities"})}),e.jsxs("div",{className:K.cardsContainer,children:[e.jsx("div",{className:K.cards,children:e.jsx(_e,{page:"products",cardName:"Recent Items",quantity:u})}),e.jsx("div",{className:K.cards,children:e.jsx(_e,{page:"categories",cardName:"Category",quantity:123})}),e.jsx("div",{className:K.cards,children:e.jsx(_e,{page:"stores",cardName:"Store",quantity:n})})]}),e.jsxs("div",{className:K.saleAndCatgoryContainer,children:[e.jsx(ca,{}),e.jsx(xa,{topCategoriesItems:i})]}),e.jsxs("div",{className:K.stockStatusAndStoreList,children:[e.jsx(ja,{lowStockItems:h,lowStockCategories:d}),e.jsx(va,{data:r.data})]}),e.jsx("div",{className:K.btn,children:e.jsx(fe,{buttonName:"Export"})})]})}const qe=({title:t="Personal Settings",subtitle:s,children:a})=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"py-4",children:[e.jsx("h2",{className:"text-3xl my-2 font-bold",children:t}),s&&e.jsx("p",{className:"text-sm text-gray-400",children:s})]}),a]}),wa=()=>{const{data:t,error:s,isLoading:a}=ee();return e.jsx("div",{className:"p-4  shadow-md rounded-md bg-gray-200",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("input",{type:"text",placeholder:"Enter category name",className:"flex-grow p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-imsDarkPurple"}),e.jsxs("select",{className:"flex-grow p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-imsDarkPurple",children:[e.jsx("option",{disabled:!0,children:"Select Store"}),a||s?e.jsx("option",{children:"Loading Stores..."}):t&&t.map(o=>e.jsx("option",{value:o.storeId,children:o.storeName},o.storeId))]}),e.jsx("button",{className:"p-2 text-white bg-imsDarkPurple rounded-md hover:bg-purple-600",children:"Save Category"}),e.jsx("button",{className:"p-2 text-white bg-red-500 rounded-md hover:bg-red-600",children:"Delete Category"})]})})},Ca="https://be-ims.onrender.com",Ke=Z({baseUrl:Ca,prepareHeaders:t=>(t.set("Content-Type","application/json"),t)}),ue=X({reducerPath:"categoryApi",baseQuery:Ke,tagTypes:["Category"],endpoints:t=>({getCategories:t.query({query:()=>"/api/IMS/category",providesTags:["Category"]}),getCategoryById:t.query({query:s=>`/api/IMS/category/${s}`,providesTags:(s,a,o)=>[{type:"Category",id:o}]}),createCategory:t.mutation({query:s=>{const a=new FormData;return a.append("name",s.name),a.append("description",s.description),s.image&&a.append("image",s.image),{url:"/api/IMS/category",method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}},invalidatesTags:["Category"]}),updateCategory:t.mutation({query:({id:s,updatedCategory:a})=>{const o=new FormData;return o.append("name",a.name),o.append("description",a.description),a.image&&o.append("image",a.image),{url:`/api/IMS/category/${s}`,method:"PUT",body:o}},invalidatesTags:(s,a,{id:o})=>[{type:"Category",id:o}]}),deleteCategory:t.mutation({query:s=>({url:`/api/IMS/category/${s}`,method:"DELETE"}),invalidatesTags:(s,a,o)=>[{type:"Category",id:o}]})})}),{useGetCategoriesQuery:Pa,useGetCategoryByIdQuery:Bn,useCreateCategoryMutation:ka,useUpdateCategoryMutation:zn,useDeleteCategoryMutation:Qn}=ue,Ia="https://via.placeholder.com/150x250/B990E9/FFFFFF",qa=()=>e.jsx("div",{className:"grid gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3",children:Array.from({length:6}).map((t,s)=>e.jsxs("div",{className:"bg-gray-200 rounded-lg shadow-md overflow-hidden animate-pulse",children:[e.jsx("div",{className:"w-full h-48 bg-gray-300"}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"h-5 bg-gray-300 mb-2 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/4"})]})]},s))}),$a=()=>{const[t,s]=l.useState(1),a=6,{data:o,error:r,isLoading:i}=Pa({page:t,limit:a}),n=o==null?void 0:o.categories;return n&&Math.ceil(n.total/a),e.jsx("div",{className:"container mx-auto my-10 p-4",children:i?e.jsx(qa,{}):r?e.jsx("p",{className:"text-red-500",children:"Failed to load categories"}):e.jsx("div",{className:"grid gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3",children:n==null?void 0:n.map(c=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[e.jsx("img",{src:c.image_url||Ia,alt:c.title,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-base font-semibold",children:c.name}),e.jsxs("p",{className:"text-gray-400 text-sm",children:[c.productCount," Items"]})]})]},c.id))})})},Ye=({children:t,onClose:s,contentMaxWidth:a="max-w-lg",closeButton:o="right",position:r="center"})=>e.jsxs("div",{id:"modal",tabIndex:"-1","aria-hidden":"true",className:"fixed left-0 right-0 top-0 z-50 h-[calc(100%-1rem)] max-h-full w-full overflow-y-auto overflow-x-hidden p-4 md:inset-0",children:[e.jsx("div",{className:"fixed inset-0 bg-black opacity-50"}),e.jsxs("div",{className:Le(`animate-modal relative mt-10 flex w-full gap-4 ${a}`,{"mx-auto":r=="center","ml-auto":r=="right"}),children:[e.jsxs("button",{type:"button",onClick:s,className:Le("absolute -top-10 right-0 ms-auto inline-flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-gray-200 text-sm text-gray-400 hover:text-gray-900 sm:static",{"order-2":o=="right"}),"data-modal-hide":"modal",children:[e.jsx("svg",{className:"h-3 w-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),e.jsx("span",{className:"sr-only",children:"Close modal"})]}),t]})]}),Ue={name:"",storeId:null},Ea=U.object({name:U.string().min(1,"Category Name is required"),storeId:U.string().min(1,"Store selection is required")}),La=({show:t,onClose:s})=>{const[a,o]=l.useState(Ue),[r,i]=l.useState({}),[n,c]=l.useState(null),[u,h]=l.useState(!1),{data:d,error:p,isLoading:b}=ee(),[v]=ka(),N=(x,g)=>{i({}),o(j=>({...j,[x]:g})),c(null)},P=async x=>{x.preventDefault(),i({}),h(!0);try{Ea.parse(a);const g={...a};await v(g).unwrap(),o(Ue),h(!1),s()}catch(g){if(console.log({error:g}),g.errors){const j={};g.errors.forEach(m=>{j[m.path[0]]=m.message}),i(j)}else c(["Error creating category."]);h(!1)}};return l.useEffect(()=>{i({}),d&&o(x=>({...x,storeId:d[0].storeId+""}))},[t,d]),t?e.jsx(Ye,{onClose:s,children:e.jsxs("form",{className:"relative flex-grow rounded-2xl bg-white shadow",onSubmit:P,children:[e.jsxs("div",{className:"flex flex-col items-center justify-center rounded-t p-4",children:[e.jsx("h3",{className:"mt-8 text-center text-lg font-medium text-gray-900",children:"New Category"}),e.jsx("p",{children:"Customize your product category"})]}),e.jsx("div",{className:"space-y-4 p-6 pt-3",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[n&&n.map((x,g)=>e.jsx("p",{className:"text-red-700",children:x},g)),e.jsxs("div",{children:[e.jsx("input",{value:a.name,onChange:x=>N("name",x.target.value),placeholder:"Category Name",type:"text",className:"z-10 block w-full rounded border border-gray-300 p-[14px] text-sm focus:border-imsLightPurple focus:outline-none"}),(r==null?void 0:r.name)&&e.jsx("p",{className:"pt-1 text-xs text-red-500",children:r.name})]}),e.jsxs("div",{children:[e.jsxs("select",{value:a.storeId,onChange:x=>N("storeId",x.target.value),className:"z-10 block w-full rounded border border-gray-300 p-[14px] text-sm focus:border-imsLightPurple focus:outline-none",children:[e.jsx("option",{disabled:!0,value:"",children:"Select Store"}),b||p?e.jsx("option",{children:"Loading Stores..."}):d&&d.map(x=>e.jsx("option",{value:x.storeId,children:x.storeName},x.storeId))]}),(r==null?void 0:r.store)&&e.jsx("p",{className:"pt-1 text-xs text-red-500",children:r.store})]})]})}),e.jsxs("div",{className:"flex items-center space-x-3 rounded-b border-t border-gray-200 p-6 rtl:space-x-reverse",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-grow rounded-full bg-red-100 px-8 py-2.5 text-center text-xs font-medium hover:bg-red-200 focus:outline-none focus:ring-1 focus:ring-red-300",children:"Cancel"}),e.jsx("button",{disabled:u,type:"submit",className:"text-white text-center flex-grow bg-imsPurple rounded-full font-semibold px-8 py-2.5 text-xs focus:ring-imsLightPurple focus:ring-offset-2 focus:ring-1",children:u?"Please wait...":"Add Category"})]})]})}):null};function Ma(){const[t,s]=l.useState(!1),a=()=>{s(!0)},o=()=>{s(!1)};return e.jsxs("div",{children:[e.jsx(qe,{title:"Categories",subtitle:"Last update January 29, 2023 at 2.39PM",children:e.jsxs("button",{onClick:a,className:"text-white bg-imsPurple rounded-full font-semibold flex gap-2 px-4 py-2 text-xs items-center focus:ring-imsLightPurple focus:ring-offset-2 focus:ring-1",children:[e.jsx(Ct,{size:15}),e.jsx("span",{children:"Add Category"})]})}),e.jsxs("div",{children:[e.jsx(wa,{}),e.jsx($a,{})]}),e.jsx(La,{show:t,onClose:o})]})}const Aa="_left_14tm4_1",Da="_body_14tm4_19",Ra="_right_14tm4_33",Ce={left:Aa,body:Da,right:Ra};function Ta({buttonName:t,onClick:s,className:a="",direction:o}){const r=`${We.buttonName} ${a}`;return e.jsx("a",{href:o,children:e.jsx("button",{className:r,onClick:s,children:t})})}const $e=({handleFilter:t,handleSearch:s,direction:a,title:o,button:r,location:i,search:n})=>{const{data:c,error:u,isLoading:h}=be();return e.jsxs("div",{className:`flex justify-between items-center px-4 ${Ce.body}`,children:[e.jsx("div",{className:Ce.left,children:e.jsx("h2",{children:o})}),e.jsxs("div",{className:`flex ${Ce.right}`,children:[e.jsx("input",{type:"text",placeholder:n,onChange:d=>s(d.target.value)}),h?e.jsx("select",{name:"",id:"",children:e.jsx("option",{value:"",children:"Loading locations..."})}):u?e.jsx("select",{name:"",id:"",children:e.jsx("option",{value:"",children:"Failed to load locations"})}):e.jsx("div",{children:e.jsxs("select",{onChange:d=>t(d.target.value),children:[e.jsx("option",{value:"all",children:"Filter by location"}),i.map((d,p)=>e.jsx("option",{value:d,children:d},p))]})}),e.jsx(Ta,{buttonName:r,direction:a})]})]})},Ua="_table_1005e_1",Fa="_tr_1005e_9",Oa="_icon_1005e_49",Y={table:Ua,tr:Fa,icon:Oa},Ba=({status:t,date:s,api:a,prod:o,deleted:r,updated:i})=>e.jsx("div",{className:"pt-3",children:e.jsxs("table",{className:Y.table,children:[e.jsx("thead",{children:e.jsxs("tr",{className:Y.tr,children:[e.jsx("th",{children:" "}),e.jsx("th",{children:"Product Photo"}),e.jsx("th",{children:"Product Name"}),e.jsx("th",{children:t}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Store Name"}),e.jsx("th",{children:s}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{className:o,children:a.map((n,c)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("input",{type:"checkbox"})}),e.jsx("td",{children:e.jsx("img",{src:n.prodPhoto,alt:n.name})}),e.jsx("td",{children:n.name}),e.jsx("td",{children:e.jsx(fe,{buttonName:n.quantity>n.alertStatus?"Active":n.quantity===0?"Empty":"Low",className:"me-5"})}),e.jsx("td",{children:n.quantity}),e.jsx("td",{children:n.categoryId}),e.jsx("td",{children:n.storeAvailable.length>8?n.storeAvailable.substr(0,8)+"...":n.storeAvailable}),e.jsx("td",{children:n.createdAt.substr(0,10)}),e.jsxs("td",{className:"flex gap-1",children:[e.jsx(Qe,{className:Y.icon,onClick:()=>i(n)}),e.jsx(Ve,{className:Y.icon,onClick:()=>r(n.prodId)})]})]},c))})]})}),Xe=({showModal:t,setShowModal:s,handleDelete:a,title:o})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:e.jsxs("div",{className:"bg-white shadow-lg rounded-lg w-[350px] h-[200px] p-6 relative",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Are you sure you want to delete this ",o,"?"]}),e.jsxs("div",{className:"flex justify-center mt-10 gap-10",children:[e.jsx("button",{onClick:a,className:"text-white  bg-red-600 p-3 hover:bg-red-800  rounded-md",children:"Delete"}),e.jsx("button",{onClick:()=>s(!1),className:"text-white bg-purple-800 hover:bg-purple-950 p-3 rounded-md",children:"Close"})]})]})}):null,za=({showUpdateModal:t,setShowUpdateModal:s,productToUpdate:a,confirmUpdateProduct:o})=>{const[r,i]=l.useState({...a});l.useEffect(()=>{i({...a})},[a]);const n=c=>{i({...r,[c.target.name]:c.target.value})};return e.jsx("div",{children:t&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs("div",{className:"bg-white w-full max-w-lg rounded-lg shadow-lg p-6 space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Edit Product"}),e.jsxs("form",{onSubmit:c=>{c.preventDefault(),o(r)},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Name"}),e.jsx("input",{name:"name",value:(r==null?void 0:r.name)||"",onChange:n,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter Product Name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Photo URL"}),e.jsx("input",{name:"prodPhoto",value:(r==null?void 0:r.prodPhoto)||"",onChange:n,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter Product Photo URL"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Quantity"}),e.jsx("input",{type:"number",name:"quantity",value:(r==null?void 0:r.quantity)||0,onChange:n,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter Quantity"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),e.jsx("input",{name:"category",value:(r==null?void 0:r.category)||"",onChange:n,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter Category"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Store Name"}),e.jsx("input",{name:"storeAvailable",value:(r==null?void 0:r.storeAvailable)||"",onChange:n,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter Store Name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Alert Limit"}),e.jsx("input",{type:"number",name:"alertStatus",value:(r==null?void 0:r.alertStatus)||0,onChange:n,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter Alert Status"})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{type:"button",onClick:()=>s(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Update Product"})]})]})]})})})},Qa=()=>{const[t,s]=l.useState(""),[a,o]=l.useState("all"),[r,i]=l.useState([]),[n,c]=l.useState(!1),[u,h]=l.useState(!1),[d,p]=l.useState(null),[b,v]=l.useState(null),{data:N,error:P,isLoading:x}=Ie(),[g]=Ys(),[j]=Ks(),{data:m,error:S,isLoading:I}=be();l.useEffect(()=>{(async()=>{const O=await(await fetch("https://be-ims.onrender.com/api/IMS/store/filter")).json();i(O.categories)})()},[]);const R=f=>{p(f),c(!0)},V=()=>{if(!d){alert("No product selected for deletion");return}console.log("Attempting to delete product with ID:",d),g(d).then(()=>{alert("Product deleted successfully!"),c(!1),p(null)}).catch(f=>{console.error("Delete error:",f),alert("Error deleting product: "+f.message)})},H=f=>{console.log("Selected product for update:",f),v(f),h(!0)},y=f=>{if(!b){alert("No product selected for update");return}j({prodId:b.prodId,updatedProduct:f}).then(()=>{alert("Product updated successfully!"),h(!1),v(null)}).catch($=>alert("Error updating product: "+$.message))},B=f=>{s(f.toLowerCase())},z=f=>{o(f)},w=N==null?void 0:N.slice().sort((f,$)=>{const O=f.name||"",ye=$.name||"";return O.localeCompare(ye)}),E=w==null?void 0:w.filter(f=>{const $=f.name.toLowerCase().includes(t),O=a==="all"||f.category===a;return $&&O});return e.jsxs("div",{children:[e.jsx($e,{handleSearch:B,handleFilter:z,direction:"addProduct",title:"Products",button:"+ Add Product",location:m,search:"Search by name"}),x?e.jsx("p",{children:"Loading..."}):P?e.jsx("p",{children:"Error loading products"}):e.jsx(Ba,{status:"Alert Status",date:"Date added",api:E,record:"hidden",deleted:f=>R(f),updated:f=>H(f)}),e.jsx(Xe,{title:"product",showModal:n,setShowModal:c,handleDelete:V}),e.jsx(za,{showUpdateModal:u,setShowUpdateModal:h,productToUpdate:b,confirmUpdateProduct:y})]})},Va=({status:t,date:s,api:a,deleted:o,updated:r})=>e.jsx("div",{className:"pt-3",children:e.jsxs("table",{className:Y.table,children:[e.jsx("thead",{children:e.jsxs("tr",{className:Y.tr,children:[e.jsx("th",{children:" "}),e.jsx("th",{children:"Product Photo"}),e.jsx("th",{children:"Product Name"}),e.jsx("th",{children:t}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Store Name"}),e.jsx("th",{children:s}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:a.map((i,n)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("input",{type:"checkbox"})}),e.jsx("td",{children:e.jsx("img",{src:i.prodPhoto,alt:i.name})}),e.jsx("td",{children:i.Product.name}),e.jsx("td",{children:i.paymentMethod}),e.jsx("td",{children:i.quantity}),e.jsx("td",{children:i.categoryId}),e.jsx("td",{children:i.Store.storeName.length>8?i.Store.storeName.substr(0,8)+"...":i.Store.storeName}),e.jsx("td",{children:i.createdAt.substr(0,10)}),e.jsxs("td",{className:"flex gap-1",children:[e.jsx(Qe,{className:Y.icon,onClick:()=>r(i)})," ",e.jsx(Ve,{className:Y.icon,onClick:()=>o(i.saleId)})]})]},n))})]})}),me=X({reducerPath:"salesRecordApi",baseQuery:Z({baseUrl:"https://be-ims.onrender.com"}),endpoints:t=>({getSalesRecord:t.query({query:()=>"/api/IMS/sales/get"}),createSalesRecord:t.mutation({query:s=>({url:"/api/IMS/sales/create",method:"POST",body:s})}),deleteSalesRecord:t.mutation({query:s=>({url:`/api/IMS/sales/delete/${s}`,method:"DELETE"})}),updateSalesRecord:t.mutation({query:({id:s,updatedData:a})=>({url:`/api/IMS/sales/update/${s}`,method:"PUT",body:a})})})}),{useGetSalesRecordQuery:Ga,useCreateSalesRecordMutation:Ha,useDeleteSalesRecordMutation:Ja,useUpdateSalesRecordMutation:Wa}=me,Ka=({showModal:t,setShowModal:s,record:a,handleUpdate:o})=>{var u,h;const[r,i]=l.useState({}),n=()=>s(!1);l.useEffect(()=>{a&&i({...a})},[a]);const c=d=>{d.preventDefault(),o(r)};return t?e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-gray-600 bg-opacity-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-11/12 md:w-1/3",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Edit Sales Record"}),e.jsxs("form",{onSubmit:c,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payment Method"}),e.jsx("input",{type:"text",name:"paymentMethod",defaultValue:a==null?void 0:a.paymentMethod,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring focus:ring-blue-300",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Quantity"}),e.jsx("input",{type:"number",name:"quantity",defaultValue:a==null?void 0:a.quantity,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring focus:ring-blue-300",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product name"}),e.jsx("input",{type:"text",name:"quantity",defaultValue:(u=a==null?void 0:a.Product)==null?void 0:u.name,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring focus:ring-blue-300",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),e.jsx("input",{type:"number",name:"quantity",defaultValue:a==null?void 0:a.quantity,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring focus:ring-blue-300",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Store"}),e.jsx("input",{type:"text",name:"quantity",defaultValue:(h=a==null?void 0:a.Store)==null?void 0:h.storeName,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring focus:ring-blue-300",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Quantity"}),e.jsx("input",{type:"number",name:"quantity",defaultValue:a==null?void 0:a.quantity,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring focus:ring-blue-300",required:!0})]}),e.jsxs("div",{className:"flex justify-end mt-4",children:[e.jsx("button",{type:"button",className:"mr-2 px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2  text-white rounded-md bg-purple-800 hover:bg-purple-950",children:"Update"})]})]})]})}):null},Ya=()=>{const[t,s]=l.useState(""),[a,o]=l.useState("all"),[r,i]=l.useState([]),[n,c]=l.useState(!1),[u,h]=l.useState(!1),[d,p]=l.useState(null),[b,v]=l.useState(null),{data:N,error:P,isLoading:x,refetch:g}=Ga(),[j]=Ja(),[m]=Wa(),{data:S,error:I,isLoading:R}=be();l.useEffect(()=>{(async()=>{const O=await(await fetch("https://be-ims.onrender.com/api/IMS/store/filter")).json();i(O.categories)})()},[]);const V=f=>{s(f.toLowerCase())},H=f=>{o(f)},y=f=>{p(f),c(!0)},B=()=>{if(!d){alert("No record selected for deletion");return}j(d).then(()=>{alert("Record deleted successfully!"),c(!1),p(null)}).catch(f=>alert("Error deleting record"))},z=f=>{v(f),h(!0)},w=f=>{if(!b){alert("No record selected for update");return}m({id:b.id,updatedData:f}).then(()=>{alert("Record updated successfully!"),h(!1),v(null),g()}).catch($=>alert("Error updating record"))},E=N==null?void 0:N.filter(f=>{const $=f.paymentMethod.toLowerCase().includes(t),O=a==="all"||f.category===a;return $&&O});return e.jsxs("div",{children:[e.jsx($e,{handleSearch:V,handleFilter:H,direction:"addSaleRecord",title:"Sales Record",button:"+ Add Record",location:S,categories:r,search:"search by payment method"}),x||R?e.jsx("p",{children:"Loading..."}):P||I?e.jsx("p",{children:"Error loading data"}):e.jsx(Va,{status:"Payment method",date:"Date added",api:E,deleted:f=>y(f),updated:f=>z(f)}),e.jsx(Xe,{title:"sale record",showModal:n,setShowModal:c,handleDelete:B}),e.jsx(Ka,{showModal:u,setShowModal:h,record:b,handleUpdate:w})]})},Xa=({isOn:t,handleToggle:s})=>e.jsx("div",{onClick:s,className:`relative inline-flex h-6 w-11 cursor-pointer items-center rounded-full transition-colors duration-300 ${t?"border border-imsPurple bg-imsPurple/30":"bg-gray-300"}`,children:e.jsx("span",{className:`absolute left-0 h-4 w-4 transform rounded-full shadow transition-transform duration-300 ${t?"translate-x-6 bg-imsPurple":"translate-x-1 bg-white"}`})}),Za=[{label:"Store"},{label:"Products"},{label:"Users"},{label:"Settings"},{label:"Sales Records"},{label:"Accounts"}],er=()=>{const[t,s]=l.useState(Array(6).fill(Array(4).fill(!1))),a=(o,r)=>{const i=t.map((n,c)=>c===o?n.map((u,h)=>h===r?!u:u):n);s(i)};return e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}),e.jsx("th",{className:"px-4 py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"View"}),e.jsx("th",{className:"px-4 py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Create"}),e.jsx("th",{className:"px-4 py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Edit"}),e.jsx("th",{className:"px-4 py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Approval"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Za.map(({label:o},r)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-gray-900",children:o}),[1,2,3,4].map((i,n)=>e.jsx("td",{className:"px-4 py-2 text-center",children:e.jsx(Xa,{isOn:t[r][n],handleToggle:()=>a(r,n)})},n))]},r))})]})})},Ze=({showExport:t=!0,onRoleChange:s})=>{const[a,o]=l.useState(Fe[0].label),r=i=>{o(i),s(i)};return e.jsxs("div",{className:"grid grid-cols-2 gap-4 my-5",children:[e.jsxs("div",{className:"flex flex-col gap-4 bg-gray-100 rounded-lg px-8 py-10",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl font-bold",children:"Role"}),e.jsx(Ee,{size:18})]}),e.jsx("div",{className:"flex flex-col gap-3",children:Fe.map(({label:i},n)=>e.jsxs("label",{htmlFor:i,className:"text-md flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded-full bg-imsLightPurple border-transparent focus:ring-0",id:i,checked:a===i,onChange:()=>r(i)}),e.jsx("span",{children:i})]},n))})]}),e.jsxs("div",{className:"flex flex-col gap-4 bg-gray-100 rounded-lg px-4 py-10",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl font-bold",children:"Permissions"}),e.jsx(Ee,{size:18})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(er,{}),t&&e.jsx("button",{className:"self-end py-1 px-6 bg-imsPurple text-white rounded-full",children:"Export"})]})]})]})},Fe=[{label:"Manager"},{label:"Super Admin"},{label:"Employee"},{label:"Sales Employee"},{label:"Admin"},{label:"Finance"}],he=X({reducerPath:"staffApi",baseQuery:Ke,tagTypes:["Staff"],endpoints:t=>({getStaff:t.query({query:({page:s=1,limit:a=10})=>({url:"/api/IMS/staff",params:{page:s,limit:a}}),providesTags:["Staff"]}),getStaffById:t.query({query:s=>`/api/IMS/staff/${s}`,providesTags:(s,a,o)=>[{type:"Staff",id:o}]}),createStaff:t.mutation({query:s=>({url:"/api/IMS/staff/invite",method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}),invalidatesTags:["Staff"]}),updateStaff:t.mutation({query:({id:s,updatedStaff:a})=>({url:`/api/IMS/staff/${s}`,method:"PUT",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}),invalidatesTags:(s,a,{id:o})=>[{type:"Staff",id:o}]}),deleteStaff:t.mutation({query:s=>({url:`/api/IMS/staff/delete/${s}`,method:"DELETE"}),invalidatesTags:(s,a,o)=>[{type:"Staff",id:o}]})})}),{useGetStaffQuery:tr,useGetStaffByIdQuery:Vn,useCreateStaffMutation:sr,useUpdateStaffMutation:ar,useDeleteStaffMutation:Gn}=he,rr=t=>t.map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" "),Oe={username:"",email:"",storeId:"",permissions:"",role:"",status:""},nr=U.object({username:U.string().min(1,"Staff Username is required"),email:U.string().email("Invalid email address"),storeId:U.string().min(1,"Store selection is required"),role:U.string().min(1,"Role selection is required"),status:U.string().min(1,"Status selection is required")}),or=({visible:t,onClose:s,staffInfo:a,refetch:o})=>{const[r,i]=l.useState(Oe),[n,c]=l.useState({}),[u,h]=l.useState(null),[d,p]=l.useState(!1),{data:b,error:v,isLoading:N}=ee(),[P]=ar(),x=(j,m)=>{c({}),i(S=>({...S,[j]:m})),h(null)},g=async j=>{j.preventDefault(),c({}),p(!0);try{nr.parse(r);const m={...r};await P({id:a.staffId,updatedStaff:m}).unwrap(),o(),i(Oe),p(!1),s()}catch(m){if(console.log({error:m}),m.errors){const S={};m.errors.forEach(I=>{S[I.path[0]]=I.message}),c(S)}else h(["Error updating staff."]);p(!1)}};return l.useEffect(()=>{c({}),a&&i(j=>({...a}))},[t,a]),t?e.jsx(Ye,{onClose:s,children:e.jsxs("form",{className:"relative flex-grow rounded-2xl bg-white shadow",onSubmit:g,children:[e.jsx("div",{className:"flex flex-col items-center justify-center rounded-t p-4",children:e.jsx("h3",{className:"mt-8 text-center text-lg font-medium text-gray-900",children:"Edit Staff"})}),e.jsx("div",{className:"space-y-4 p-6",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[u&&u.map((j,m)=>e.jsx("p",{className:"text-red-700",children:j},m)),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-imsPurple mb-1",children:"Staff Username"}),e.jsx("input",{value:r.username,onChange:j=>x("username",j.target.value),placeholder:"Staff Name",type:"text",className:"z-10 block w-full rounded border border-gray-300 p-[14px] text-sm focus:border-imsLightPurple focus:outline-none"}),(n==null?void 0:n.username)&&e.jsx("p",{className:"pt-1 text-xs text-red-500",children:n.username})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-imsPurple mb-1",children:"Staff Email"}),e.jsx("input",{value:r.email,onChange:j=>x("email",j.target.value),placeholder:"Staff Email",type:"email",className:"z-10 block w-full rounded border border-gray-300 p-[14px] text-sm focus:border-imsLightPurple focus:outline-none"}),(n==null?void 0:n.email)&&e.jsx("p",{className:"pt-1 text-xs text-red-500",children:n.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-imsPurple mb-1",children:"Store Name"}),e.jsxs("select",{value:r.storeId,onChange:j=>x("storeId",j.target.value),className:"z-10 block w-full rounded border border-gray-300 p-[14px] text-sm focus:border-imsLightPurple focus:outline-none",children:[e.jsx("option",{disabled:!0,value:"",children:"Select Store"}),N||v?e.jsx("option",{children:"Loading Stores..."}):b&&b.map(j=>e.jsx("option",{value:j.storeId,children:j.storeName},j.storeId))]}),(n==null?void 0:n.storeId)&&e.jsx("p",{className:"pt-1 text-xs text-red-500",children:n.storeId})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-imsPurple mb-1",children:"Staff Role"}),e.jsxs("select",{value:r.role,onChange:j=>x("role",j.target.value),className:"z-10 block w-full rounded border border-gray-300 p-[14px] text-sm focus:border-imsLightPurple focus:outline-none",children:[e.jsx("option",{disabled:!0,value:"",children:"Select Role"}),e.jsx("option",{value:"Employee",children:"Employee"}),e.jsx("option",{value:"Manager",children:"Manager"}),e.jsx("option",{value:"Super Admin",children:"Super Admin"}),e.jsx("option",{value:"Sales Employee",children:"Sales Employee"}),e.jsx("option",{value:"Admin",children:"Admin"}),e.jsx("option",{value:"Finance",children:"Finance"})]}),(n==null?void 0:n.role)&&e.jsx("p",{className:"pt-1 text-xs text-red-500",children:n.role})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-imsPurple mb-1",children:"Staff Status"}),e.jsxs("select",{value:r.status,onChange:j=>x("status",j.target.value),className:"z-10 block w-full rounded border border-gray-300 p-[14px] text-sm focus:border-imsLightPurple focus:outline-none",children:[e.jsx("option",{disabled:!0,value:"",children:"Select Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]}),(n==null?void 0:n.status)&&e.jsx("p",{className:"pt-1 text-xs text-red-500",children:n.status})]})]})}),e.jsxs("div",{className:"flex items-center space-x-3 rounded-b border-t border-gray-200 p-6 rtl:space-x-reverse",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-grow rounded-full bg-red-100 px-8 py-2.5 text-center text-xs font-medium hover:bg-red-200 focus:outline-none focus:ring-1 focus:ring-red-300",children:"Cancel"}),e.jsx("button",{disabled:d,type:"submit",className:"text-white text-center flex-grow bg-imsPurple rounded-full font-semibold px-8 py-2.5 text-xs focus:ring-imsLightPurple focus:ring-offset-2 focus:ring-1",children:d?"Please wait...":"Edit Staff"})]})]})}):null},lr=()=>e.jsx("div",{className:"animate-pulse",children:Array.from({length:5}).map((t,s)=>e.jsx("div",{className:"h-10 bg-gray-200 rounded mb-4"},s))}),ir=()=>{var x,g,j;const[t,s]=l.useState(null),[a,o]=l.useState(!1),[r,i]=l.useState(1),n=10,{data:c,isLoading:u,error:h,refetch:d}=tr({page:r,limit:n});console.log(c);const p=m=>{switch(m){case"active":return"bg-green-200 text-green-800";case"pending":return"bg-yellow-200 text-yellow-800";case"inactive":return"bg-red-200 text-red-800";default:return"bg-gray-200 text-gray-800"}},b=(m,S)=>{s(S),o(!0)},v=()=>{s(null),o(!1)},N=m=>{i(m)},P=((x=c==null?void 0:c.pagination)==null?void 0:x.totalPages)||1;return e.jsxs("div",{className:"py-5 bg-white",children:[e.jsxs("div",{className:"container mx-auto p-4",children:[u||h?e.jsx(lr,{}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4 bg-gray-100 border-b text-left text-sm font-semibold text-gray-700",children:"Username"}),e.jsx("th",{className:"py-2 px-4 bg-gray-100 border-b text-left text-sm font-semibold text-gray-700",children:"Email"}),e.jsx("th",{className:"py-2 px-4 bg-gray-100 border-b text-left text-sm font-semibold text-gray-700",children:"Added Date"}),e.jsx("th",{className:"py-2 px-4 bg-gray-100 border-b text-left text-sm font-semibold text-gray-700",children:"Status"}),e.jsx("th",{className:"py-2 px-4 bg-gray-100 border-b text-left text-sm font-semibold text-gray-700",children:"Role"}),e.jsx("th",{className:"py-2 px-4 bg-gray-100 border-b text-left text-sm font-semibold text-gray-700",children:"Action"}),e.jsx("th",{className:"py-2 px-4 bg-gray-100 border-b text-left text-sm font-semibold text-gray-700",children:"Store Name"})]})}),e.jsx("tbody",{children:((g=c==null?void 0:c.data)==null?void 0:g.length)===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"py-2 px-4 text-center text-sm text-gray-500",children:"No staff members found."})}):(j=c==null?void 0:c.data)==null?void 0:j.map((m,S)=>{var I;return e.jsxs("tr",{children:[e.jsx("td",{className:"py-2 px-4 border-b text-sm",children:m.username||"N/A"}),e.jsx("td",{className:"py-2 px-4 border-b text-sm",children:m.email}),e.jsx("td",{className:"py-2 px-4 border-b text-sm",children:kt(m.added_date).format("DD/MM/yyyy")}),e.jsx("td",{className:"py-2 px-4 border-b text-sm",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${p(m.status)}`,children:rr((I=m==null?void 0:m.status)==null?void 0:I.split(" "))})}),e.jsx("td",{className:"py-2 px-4 border-b text-sm",children:m.role}),e.jsx("td",{className:"py-2 px-4 border-b text-sm",children:e.jsx("button",{className:"text-blue-600 hover:underline",onClick:()=>b(m.staffId,m),children:"Edit"})}),e.jsx("td",{className:"py-2 px-4 border-b text-sm",children:(m==null?void 0:m.storeName)||"No Store"})]},S)})})]})}),e.jsxs("div",{className:"flex justify-center mt-4",children:[e.jsx("button",{className:"px-3 py-1 bg-gray-200 text-gray-800 rounded-l",onClick:()=>N(r-1),disabled:r===1,children:"Previous"}),e.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700",children:`Page ${r} of ${P}`}),e.jsx("button",{className:"px-3 py-1 bg-gray-200 text-gray-800 rounded-r",onClick:()=>N(r+1),disabled:r===P,children:"Next"})]})]}),t&&a&&e.jsx(or,{visible:a,staffInfo:t,onClose:v,refetch:d})]})};function cr(){return e.jsxs("div",{children:[e.jsx(qe,{title:"Owner Settings-Users"}),e.jsx(ir,{}),e.jsx(Ze,{})]})}const dr="_store_yultx_1",ur="_box_yultx_33",mr="_moreInfo_yultx_71",je={store:dr,box:ur,moreInfo:mr},hr=({onSelectStore:t,items:s})=>{const[a,o]=l.useState(null),{data:r,error:i,isLoading:n}=ee(),c=u=>{o(u.id),t(u)};return e.jsx("div",{className:"flex flex-wrap gap-5 mt-5",children:(r==null?void 0:r.length)>0?s.map((u,h)=>e.jsx("div",{className:`${je.store} ${a===u.id?je.selected:""}`,onClick:()=>c(u),style:{backgroundSize:"cover",backgroundPosition:"center",backgroundImage:`linear-gradient(0deg, rgb(121 0 255 / 25%), rgb(81 3 163 / 39%)),  url(${u.storePhoto})`,filter:a===u.id?"brightness(0.5)":"none",transition:"filter 0.3s ease"},children:u.location},h)):e.jsx("div",{children:"No stores available"})})},xr=({selectedStore:t})=>e.jsx("div",{className:`mt-11 ${je.box}`,children:t?e.jsxs("div",{children:[e.jsx("h3",{children:t.location}),e.jsxs("div",{className:je.moreInfo,children:[e.jsxs("p",{children:["Name: ",t.storeName]}),e.jsxs("p",{children:["Employee: ",t.noOfStaff]}),e.jsxs("p",{children:["Manager: ",t.storeManager]}),e.jsxs("p",{children:["Contact: ",t.storeContact]}),e.jsx("p",{})]})]}):e.jsx("h3",{children:"No selected store"})}),pr=()=>{const[t,s]=l.useState(null),[a,o]=l.useState(""),[r,i]=l.useState("all"),[n,c]=l.useState([]),{data:u=[],error:h,isLoading:d}=be(),{data:p=[],error:b,isLoading:v}=ee(),N=g=>{o(g.toLowerCase())},P=g=>{i(g)};l.useEffect(()=>{if(p.length){const j=(p==null?void 0:p.slice().sort((m,S)=>{const I=m.location||"",R=S.location||"";return I.localeCompare(R)})).filter(m=>{const S=m.location.toLowerCase().includes(a)||m.storeName.toLowerCase().includes(a),I=r==="all"||m.location===r;return S&&I});c(j)}},[p,a,r]);const x=g=>{s(g)};return e.jsxs("div",{children:[e.jsx($e,{handleSearch:N,handleFilter:P,direction:"createStore",title:"Stores",button:"+ Create Store",location:u,search:"search"}),v?e.jsx("p",{children:"Loading stores..."}):b?e.jsx("p",{children:"Error loading stores."}):e.jsx(hr,{onSelectStore:x,items:n}),e.jsx(xr,{selectedStore:t})]})};function gr(){const t=Q();return e.jsxs("div",{children:[e.jsx("p",{children:"sorry!! cant find page 😔"}),e.jsx("button",{onClick:()=>t(-1),children:"Go Back"})]})}const jr="_top_dbrsr_1",fr="_title_dbrsr_11",br="_form_dbrsr_27",yr="_cont_dbrsr_37",vr="_label_dbrsr_47",Nr="_input_dbrsr_65",Sr="_submit_dbrsr_81",_r="_check_dbrsr_97",wr="_success_dbrsr_127",_={top:jr,title:fr,form:br,cont:yr,label:vr,input:Nr,submit:Sr,check:_r,success:wr},Cr=()=>{const[t,s]=l.useState(""),[a,o]=l.useState(""),[r,i]=l.useState(""),[n,c]=l.useState(""),[u,h]=l.useState({id:"",name:""}),[d,p]=l.useState(""),[b,v]=l.useState(""),[N,P]=l.useState(""),[x,g]=l.useState(null),[j,m]=l.useState(""),[S,I]=l.useState(!1),[R,V]=l.useState(!1),[H,y]=l.useState("hidden"),[B,z]=l.useState([]),[w,E]=l.useState([]),f=Q(),[$,{isLoading:O,error:ye}]=Ws();l.useEffect(()=>{const C=async()=>{const M=await(await fetch("https://be-ims.onrender.com/api/IMS/store/all")).json();z(M),console.log(M)},T=async()=>{const M=await(await fetch("https://be-ims.onrender.com/api/IMS/category")).json();E(M.categories),console.log(M),console.log(w)};C(),T()},[]);const tt=async C=>{var W;C.preventDefault();const T=new FormData;T.append("name",t),T.append("itemCode",a),T.append("quantity",n),T.append("storeId",Number(u.id)),T.append("storeAvailable",u.name),T.append("categoryId",d),T.append("alertStatus",b),T.append("price",N),x&&T.append("image",x);try{await $(T).unwrap(),V(!0),y(""),setTimeout(()=>{y("hidden")},3e3),S?(s(""),o(""),i(""),c(""),h({id:"",name:""}),p(""),v(""),P(""),g(null),I(!1),V(!1)):f("/app/products")}catch(M){console.error("Failed to create product:",M),(W=M==null?void 0:M.data)!=null&&W.message?m(M.data.message):M!=null&&M.error?m(M.error):m("An unexpected error occurred. Please try again.")}},st=C=>{const T=Number(C.target.value),W=B.find(M=>M.storeId===T);W&&h({id:W.storeId,name:W.storeName})};return e.jsxs("div",{className:`${_.body} relative`,children:[e.jsx("div",{className:"absolute w-full ease-in-out duration-300",children:e.jsx("p",{className:`text-center bg-green-400 py-3 ${H}`,style:{color:"#fff"},children:"Product saved successfully"})}),e.jsx("div",{className:_.top,children:e.jsx("h2",{className:_.title,children:"Add Product"})}),e.jsx("div",{children:e.jsxs("form",{onSubmit:tt,className:`${_.form} mx-4 my-5`,children:[e.jsxs("div",{className:_.cont,children:[e.jsx("label",{className:_.label,children:"Name:"}),e.jsx("input",{type:"text",className:_.input,value:t,onChange:C=>s(C.target.value),required:!0})]}),e.jsxs("div",{className:_.cont,children:[e.jsx("label",{className:_.label,children:"Item code:"}),e.jsx("input",{type:"text",className:_.input,value:a,onChange:C=>o(C.target.value),required:!0})]}),e.jsxs("div",{className:_.cont,children:[e.jsx("label",{className:_.label,children:"Quantity:"}),e.jsx("input",{type:"text",className:_.input,value:n,onChange:C=>c(C.target.value)})]}),e.jsxs("div",{className:_.cont,children:[e.jsx("label",{className:_.label,children:"Stores Available:"}),e.jsxs("select",{className:_.input,value:u.id,onChange:st,required:!0,children:[e.jsx("option",{value:"",children:"Select store"}),B.map(C=>e.jsx("option",{value:C.storeId,children:C.storeName},C.storeId))]})]}),e.jsxs("div",{className:_.cont,children:[e.jsx("label",{className:_.label,children:"Category:"}),e.jsxs("select",{className:_.input,value:d,onChange:C=>p(C.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select Category"}),w.map(C=>e.jsx("option",{value:C.catId,children:C.name}))]})]}),e.jsxs("div",{className:_.cont,children:[e.jsx("label",{className:_.label,children:"Alert limit*"}),e.jsx("input",{type:"text",className:_.input,value:b,onChange:C=>v(C.target.value)})]}),e.jsxs("div",{className:_.cont,children:[e.jsx("label",{className:_.label,children:"Price*"}),e.jsx("input",{type:"number",className:_.input,value:N,onChange:C=>P(C.target.value),required:!0})]}),e.jsxs("div",{className:_.cont,children:[e.jsx("label",{className:_.label,children:"Product photo:"}),e.jsx("input",{type:"file",className:_.input,onChange:C=>g(C.target.files[0])})]}),e.jsxs("div",{className:"mt-8 flex items-center gap-4",children:[e.jsx("input",{type:"checkbox",name:"check",checked:S,onChange:C=>I(C.target.checked),className:`${_.check} flex items-center justify-center`}),e.jsx("label",{htmlFor:"check",children:"Add another product"})]}),e.jsx("div",{className:"mt-5",children:e.jsx("button",{type:"submit",className:_.submit,disabled:O,children:O?"Saving...":R?"Saved":"Save product"})}),ye&&e.jsx("p",{className:"error mt-5",style:{color:"red"},children:j})]})})]})},Pr=U.object({username:U.string().min(1,"Username is required"),email:U.string().email("Invalid email address"),password:U.string().min(6,"Password must be at least 6 characters"),role:U.string().min(1,"Role is required")}),kr=()=>{const[t,s]=l.useState(""),[a,o]=l.useState(""),[r,i]=l.useState(""),[n,c]=l.useState(""),[u,h]=l.useState(!1),[d,p]=l.useState({}),[b,{isLoading:v,isSuccess:N,isError:P}]=sr(),x=async g=>{g.preventDefault(),p({});const j=Pr.safeParse({email:t,password:a,username:r,role:n});if(!j.success){const m=j.error.format();p(m);return}try{h(!0),await b({email:t,password:a,username:r,role:n}).unwrap(),s(""),o(""),i(""),c(""),h(!1),alert("Invite sent successfully!")}catch(m){h(!1),console.error("Failed to send invite:",m),alert("Failed to send invite.")}};return e.jsx("div",{className:"bg-white shadow-lg rounded-lg p-6",children:e.jsxs("form",{onSubmit:x,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),e.jsx("input",{className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-imsDarkPurple focus:border-imsring-imsDarkPurple sm:text-sm bg-transparent",type:"text",placeholder:"Enter Username",value:r,onChange:g=>i(g.target.value)}),(d==null?void 0:d.username)&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:d.username._errors})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),e.jsx("input",{className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-imsDarkPurple focus:border-imsring-imsDarkPurple sm:text-sm bg-transparent",type:"email",placeholder:"Enter email",value:t,onChange:g=>s(g.target.value)}),(d==null?void 0:d.email)&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:d.email._errors})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Password"}),e.jsx("input",{className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-imsDarkPurple focus:border-imsring-imsDarkPurple sm:text-sm bg-transparent",type:"password",placeholder:"Enter password",value:a,onChange:g=>o(g.target.value)}),(d==null?void 0:d.password)&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:d.password._errors})]})]}),e.jsxs("div",{className:"mt-14",children:[e.jsx(Ze,{showExport:!1,onRoleChange:g=>c(g)}),(d==null?void 0:d.role)&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:d.role._errors})]}),e.jsxs("div",{className:"mt-6 flex justify-center gap-4",children:[e.jsx("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-imsPurple hover:bg-imsDarkPurple focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-imsLightPurple",disabled:v,children:v?"Sending...":"Send Invite"}),e.jsx("button",{type:"reset",disabled:u,className:"disabled:cursor-not-allowed inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-black bg-gray-100 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-imsLightPurple",onClick:()=>{s(""),i(""),o(""),c("")},children:"Cancel"})]}),N&&e.jsx("p",{className:"text-green-600 mt-4",children:"Invite sent successfully!"}),P&&e.jsx("p",{className:"text-red-600 mt-4",children:"Failed to send invite."})]})})};function Ir(){return e.jsxs("div",{children:[e.jsx(qe,{title:"Staff Invite Setting"}),e.jsx(kr,{})]})}function qr(){return e.jsx("div",{children:"AddStaff"})}const $r="_top_oj8to_1",Er="_title_oj8to_11",Lr="_form_oj8to_27",Mr="_cont_oj8to_37",Ar="_label_oj8to_47",Dr="_input_oj8to_65",Rr="_submit_oj8to_81",Tr="_check_oj8to_97",k={top:$r,title:Er,form:Lr,cont:Mr,label:Ar,input:Dr,submit:Rr,check:Tr},Ur=({userId:t})=>{const[s,a]=l.useState(""),[o,r]=l.useState(""),[i,n]=l.useState(""),[c,u]=l.useState(""),[h,d]=l.useState("hidden"),[p,b]=l.useState(!1),[v,N]=l.useState(""),[P,x]=l.useState(""),[g,j]=l.useState(null),[m,S]=l.useState(!1),[I,R]=l.useState(""),V=Q(),[H,{isLoading:y,error:B}]=Na(),z=async w=>{var f;w.preventDefault(),R("");const E=new FormData;E.append("storeName",s),E.append("location",o),E.append("storeContact",P),E.append("description",i),E.append("noOfStaff",parseInt(c)),E.append("storeManager",v),g&&E.append("storePhoto",g);try{const $=await H(E).unwrap();b(!0),d(""),setTimeout(()=>{d("hidden")},3e3),m?(a(""),r(""),n(""),u(""),N(""),x(""),j(null)):(alert("Store created successfully!"),V("/app/stores"))}catch($){console.error("Failed to create store:",$),(f=$==null?void 0:$.data)!=null&&f.error?R($.data.error):$!=null&&$.error?R($.error):R("An unexpected error occurred. Please try again.")}};return e.jsxs("div",{className:`${k.body} relative`,children:[e.jsx("div",{className:"absolute w-full ease-in-out duration-300",children:e.jsx("p",{className:`text-center bg-green-400 py-3 ${h}`,style:{color:"#fff"},children:"Product saved successfully"})}),e.jsx("div",{className:k.top,children:e.jsx("h2",{className:k.title,children:"Create Store"})}),e.jsx("div",{children:e.jsxs("form",{className:`${k.form} mx-4 my-5`,onSubmit:z,children:[e.jsxs("div",{className:k.cont,children:[e.jsx("label",{className:k.label,children:"Store Name*"}),e.jsx("input",{type:"text",className:k.input,value:s,onChange:w=>a(w.target.value),required:!0})]}),e.jsxs("div",{className:k.cont,children:[e.jsx("label",{className:k.label,children:"Location*"}),e.jsx("input",{type:"text",className:k.input,value:o,onChange:w=>r(w.target.value),required:!0})]}),e.jsxs("div",{className:k.cont,children:[e.jsx("label",{className:k.label,children:"Description*"}),e.jsx("input",{type:"text",className:k.input,value:i,onChange:w=>n(w.target.value)})]}),e.jsxs("div",{className:k.cont,children:[e.jsx("label",{className:k.label,children:"Number of Staff*"}),e.jsx("input",{type:"number",className:k.input,value:c,onChange:w=>u(w.target.value),required:!0})]}),e.jsxs("div",{className:k.cont,children:[e.jsx("label",{className:k.label,children:"Store Manager*"}),e.jsx("input",{type:"text",className:k.input,value:v,onChange:w=>N(w.target.value)})]}),e.jsxs("div",{className:k.cont,children:[e.jsx("label",{className:k.label,children:"Store Contact*"}),e.jsx("input",{type:"text",className:k.input,value:P,onChange:w=>x(w.target.value),required:!0})]}),e.jsxs("div",{className:k.cont,children:[e.jsx("label",{className:k.label,children:"Store photo*"}),e.jsx("input",{type:"file",onChange:w=>j(w.target.files[0])})]}),e.jsx("br",{}),e.jsxs("div",{className:"mt-8 flex items-center gap-4",children:[e.jsx("input",{type:"checkbox",name:"check",className:`${k.check} flex items-center justify-center`,checked:m,onChange:()=>S(!m)}),e.jsx("label",{htmlFor:"check",children:"Add another store"})]}),e.jsx("div",{className:"mt-5",children:e.jsx("button",{type:"submit",className:k.submit,disabled:y,children:y?"Saving...":p?"Saved":"Save store"})}),I&&e.jsx("p",{style:{color:"red"},children:I})]})})]})};function Fr({children:t}){return ot(a=>a.auth.token)?t:e.jsx(ut,{to:"/"})}const Or="_container_1l9qd_3",Br="_image_1l9qd_25",zr="_title_1l9qd_41",Qr="_message_1l9qd_55",Vr="_button_1l9qd_71",ae={container:Or,image:Br,title:zr,message:Qr,button:Vr};function Gr(){return e.jsxs("div",{className:ae.container,children:[e.jsx("img",{src:"https://www.example.com/realistic-image.jpg",alt:"Mobile Warning",className:ae.image}),e.jsx("h1",{className:ae.title,children:"Switch to Desktop for the Best Experience"}),e.jsx("p",{className:ae.message,children:"Our application is optimized for desktop use. To ensure you have the best experience, please switch to a desktop computer."}),e.jsx("button",{className:ae.button,children:"Learn More"})]})}const xe=X({reducerPath:"authApi",baseQuery:Z({baseUrl:"https://be-ims.onrender.com"}),endpoints:t=>({requestPasswordReset:t.mutation({query:s=>({url:"/api/IMS/user/password-reset",method:"POST",body:{email:s}})}),resetPassword:t.mutation({query:s=>({url:"/api/IMS/user/submit-reset",method:"PUT",body:s})})})}),{useRequestPasswordResetMutation:Hr,useResetPasswordMutation:Jr}=xe,et=ct({reducer:{auth:It,[ie.reducerPath]:ie.reducer,[de.reducerPath]:de.reducer,[ce.reducerPath]:ce.reducer,[ue.reducerPath]:ue.reducer,[he.reducerPath]:he.reducer,[me.reducerPath]:me.reducer,[xe.reducerPath]:xe.reducer},middleware:t=>t().concat(ie.middleware).concat(de.middleware).concat(ce.middleware).concat(ue.middleware).concat(he.middleware).concat(me.middleware).concat(xe.middleware)}),Wr="_container_1gum2_1",Kr="_input_1gum2_53",Yr="_visi_1gum2_85",Xr="_icon_1gum2_99",G={container:Wr,input:Kr,visi:Yr,icon:Xr},Zr=()=>{var u;const[t,s]=l.useState(""),[a,{isLoading:o,isSuccess:r,isError:i,error:n}]=Hr(),c=async h=>{h.preventDefault();try{await a(t).unwrap()}catch(d){console.error("Password reset request failed: ",d)}};return e.jsx("div",{className:"flex justify-center items-center h-[100vh]",children:e.jsxs("div",{className:G.container,children:[e.jsxs("form",{onSubmit:c,children:[e.jsx("h2",{className:"my-3",children:"Forgot Password"}),e.jsx("input",{className:`${G.input} mt-10`,type:"email",placeholder:"Enter email",value:t,onChange:h=>s(h.target.value),required:!0}),e.jsx("br",{}),e.jsx("button",{type:"submit",disabled:o,children:o?"Loading...":"Reset Password"})]}),r&&e.jsx("p",{className:"mt-3",children:"An email has been sent to you with a link to reset your password. If not seen in your inbox, please check your spam."}),i&&e.jsxs("p",{children:["Error: ",((u=n==null?void 0:n.data)==null?void 0:u.msg)||"Something went wrong."]})]})})},en=()=>{var m;const[t,s]=l.useState(""),[a,o]=l.useState(""),[r,i]=l.useState(!1),[n,c]=l.useState(!1),[u,h]=l.useState(""),[d,{isLoading:p,isSuccess:b,isError:v,error:N}]=Jr(),P=Q(),x=async S=>{if(S.preventDefault(),a!==u){alert("Passwords do not match!");return}console.log("Email:",t),console.log("Password:",a),console.log("Confirm Password:",u);try{const I=await d({email:t,password:a,confirmPassword:u}).unwrap();setTimeout(()=>{P("/")},2e3),console.log("Response:",I)}catch(I){console.error("Failed to reset password:",I),alert("Failed to reset password")}},g=()=>{i(!r)},j=()=>{c(!n)};return e.jsx("div",{className:"flex justify-center items-center h-[100vh]",children:e.jsxs("div",{className:G.container,children:[e.jsxs("form",{onSubmit:x,children:[e.jsx("h2",{className:"my-3",children:"Set New Password"}),e.jsx("input",{className:G.input,type:"email",placeholder:"Enter Email",value:t,onChange:S=>s(S.target.value),required:!0}),e.jsxs("div",{className:`flex items-center justify-between gap-3 ${G.visi}`,children:[e.jsx("input",{type:r?"text":"password",placeholder:"Enter password",value:a,onChange:S=>o(S.target.value),required:!0}),r?e.jsx(pe,{onClick:g,className:G.icon}):e.jsx(ge,{onClick:g,className:G.icon})]}),e.jsxs("div",{className:`flex items-center justify-between gap-3 ${G.visi}`,children:[e.jsx("input",{type:n?"text":"password",placeholder:"Confirm password",value:u,onChange:S=>h(S.target.value),required:!0}),n?e.jsx(pe,{onClick:j,className:G.icon}):e.jsx(ge,{onClick:j,className:G.icon})]}),e.jsx("br",{}),e.jsx("button",{className:"mb-4",type:"submit",disabled:p,children:p?"Resetting...":"Reset Password"})]}),b&&e.jsx("p",{children:"Password reset successful!"}),v&&e.jsxs("p",{className:"mt-4",children:["Error resetting password: ",((m=N==null?void 0:N.data)==null?void 0:m.message)||"Something went wrong"]})]})})},tn="_top_oj8to_1",sn="_title_oj8to_11",an="_form_oj8to_27",rn="_cont_oj8to_37",nn="_label_oj8to_47",on="_input_oj8to_65",ln="_submit_oj8to_81",cn="_check_oj8to_97",L={top:tn,title:sn,form:an,cont:rn,label:nn,input:on,submit:ln,check:cn},dn=()=>{const[t,s]=l.useState("10"),[a,o]=l.useState(""),[r,i]=l.useState("cash"),[n,c]=l.useState(""),[u,h]=l.useState(""),[d,p]=l.useState(""),[b,v]=l.useState("hidden"),[N,P]=l.useState([]),[x,g]=l.useState([]),[j,m]=l.useState([]),[S,{isLoading:I,error:R}]=Ha(),V=Q();l.useEffect(()=>{const y=async()=>{const E=await(await fetch("https://be-ims.onrender.com/api/IMS/store/all")).json();P(E)},B=async()=>{const E=await(await fetch("https://be-ims.onrender.com/api/IMS/category")).json();g(E.categories)},z=async()=>{const E=await(await fetch("https://be-ims.onrender.com/api/IMS/product")).json();m(E)};y(),B(),z()},[]);const H=async y=>{y.preventDefault();const B=new Date().toISOString(),z={userId:Number(t),productId:Number(a),paymentMethod:r,quantity:Number(n),categoryId:Number(u),storeId:Number(d),soldDate:B};try{await S(z).unwrap(),v(""),setTimeout(()=>{v("hidden")},3e3),V("/app/salesRecords")}catch(w){console.error("Failed to create sale record:",w)}};return e.jsxs("div",{className:`${L.body} relative`,children:[e.jsx("div",{className:"absolute w-full ease-in-out duration-300",children:e.jsx("p",{className:`text-center bg-green-400 py-3 ${b}`,style:{color:"#fff"},children:"Product saved successfully"})}),e.jsx("div",{className:L.top,children:e.jsx("h2",{className:L.title,children:"Add Sale Record"})}),e.jsx("div",{children:e.jsxs("form",{onSubmit:H,className:`${L.form} mx-4 my-5`,children:[e.jsxs("div",{className:L.cont,children:[e.jsx("label",{className:L.label,children:"Product:"}),e.jsxs("select",{className:L.input,value:a,onChange:y=>o(y.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select Product"}),j.map(y=>e.jsx("option",{value:y.prodId,children:y.name},y.prodId))]})]}),e.jsxs("div",{className:L.cont,children:[e.jsx("label",{className:L.label,children:"Payment Method:"}),e.jsxs("select",{className:L.input,value:r,onChange:y=>i(y.target.value),required:!0,children:[e.jsx("option",{value:"cash",children:"Cash"}),e.jsx("option",{value:"credit",children:"POS"}),e.jsx("option",{value:"transfer",children:"Bank Transfer"})]})]}),e.jsxs("div",{className:L.cont,children:[e.jsx("label",{className:L.label,children:"Quantity:"}),e.jsx("input",{type:"number",className:L.input,value:n,onChange:y=>c(y.target.value),required:!0})]}),e.jsxs("div",{className:L.cont,children:[e.jsx("label",{className:L.label,children:"Store:"}),e.jsxs("select",{className:L.input,value:d,onChange:y=>p(y.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select Store"}),N.map(y=>e.jsx("option",{value:y.storeId,children:y.storeName},y.storeId))]})]}),e.jsxs("div",{className:L.cont,children:[e.jsx("label",{className:L.label,children:"Category:"}),e.jsxs("select",{className:L.input,value:u,onChange:y=>h(y.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select Category"}),x.map(y=>e.jsx("option",{value:y.catId,children:y.name},y.catId))]})]}),e.jsx("br",{}),e.jsx("div",{className:"mt-5",children:e.jsx("button",{type:"submit",className:L.submit,disabled:I,children:I?"Saving...":"Save Sale Record"})}),e.jsx("br",{}),R&&e.jsx("p",{className:"error mt-5 text-red-500",children:"Error: Unable to create sale record"})]})})]})},un=rt([{path:"/",element:e.jsx(Vt,{})},{path:"signup",element:e.jsx(ns,{})},{path:"/mobile-warning",element:e.jsx(Gr,{})},{path:"passwordReset",element:e.jsx(Zr,{})},{path:"passwordConfirmation",element:e.jsx(en,{})},{path:"/app",element:e.jsx(Fr,{children:e.jsx(Ts,{})}),children:[{index:!0,element:e.jsx(_a,{})},{path:"accounts",element:e.jsx(Xs,{})},{path:"products",element:e.jsx(Qa,{})},{path:"salesRecords",element:e.jsx(Ya,{})},{path:"settings",element:e.jsx(cr,{})},{path:"stores",element:e.jsx(pr,{})},{path:"categories",element:e.jsx(Ma,{})},{path:"addProduct",element:e.jsx(Cr,{})},{path:"staff",element:e.jsx(Ir,{})},{path:"addStaff",element:e.jsx(qr,{})},{path:"createStore",element:e.jsx(Ur,{})},{path:"addSaleRecord",element:e.jsx(dn,{})}]},{path:"*",element:e.jsx(gr,{})}]);function mn(){const t=localStorage.getItem("token");return t&&et.dispatch(ke({token:t})),e.jsx(nt,{router:un})}at(document.getElementById("root")).render(e.jsx(l.StrictMode,{children:e.jsx(lt,{store:et,children:e.jsx(mn,{})})}));
